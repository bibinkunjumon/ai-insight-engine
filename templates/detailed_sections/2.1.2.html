<html>

<head>
    <title>Low-Demand Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            transform: scale(1);
        }

        .sidebar {
            background-color: #ffffff;
            padding: 20px;
            height: 100vh;
            border-right: 1px solid #dee2e6;
        }

        .sidebar a {
            display: block;
            padding: 10px 0;
            color: #000;
            text-decoration: none;
        }

        .sidebar a:hover {
            background-color: #e9ecef;
        }

        .content {
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: bold;
        }

        .header .search-bar {
            width: 300px;
        }

        .card {
            margin-bottom: 20px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #e9ecef;
            padding: 10px 20px;
            font-weight: bold;
        }

        .table th,
        .table td {
            vertical-align: middle;
        }

        .scrollable-table {
            max-height: 400px;
            overflow-y: auto;
            overflow-x: auto;
            margin-bottom: 20px;
            width: 100%;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }

        .analysis {
            background-color: #ffffff;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }

        .graph {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="d-flex">
        <div class="sidebar">
            <div class="d-flex align-items-center mb-4">
                <i class="fas fa-boxes fa-2x me-2"></i>
                <span class="fs-4">Optimizer</span>
            </div>
            <a href="/"> <i class="fas fa-boxes fa-1x me-1"></i>Home</a>
            <a href="{{ url_for('AnalyticsDashboard') }}"> <i class="fas fa-boxes fa-1x me-1"></i>Analytics
                Dashboard</a>
            <a href="{{ url_for('InventoryDashboard') }}"> <i class="fas fa-boxes fa-1x me-1"></i>Inventory
                Optimization</a>
            <a href="{{ url_for('SalesBoostDashboard') }}"> <i class="fas fa-boxes fa-1x me-1"></i>Sales Booster
                Features</a>
        </div>
        <div class="content flex-grow-1">
            <div class="header">
                <h1>Stock Recommendations</h1>
                <input type="text" class="form-control search-bar" placeholder="Search for...">
            </div>
            <div class="card">
                <div class="card-header">
                    <span>Low-Demand Products (2.1.2)</span>
                </div>
                <div class="card-body">
                    <div class="scrollable-table" style="width: 100%; overflow-x: auto;">

                        {% if all_tables_data["2.1.2"] %}
                        <table class="table">
                            <thead>

                                <tr>
                                    {% for column in all_tables_data["2.1.2"]['columns'] %}
                                    <th>{{ column }}</th>
                                    {% endfor %}
                                </tr>
                            </thead>
                            <tbody>
                                {% for row in all_tables_data["2.1.2"]['data'] %}
                                <tr>
                                    {% for item in row %}
                                    <td>{{ item }}</td>
                                    {% endfor %}
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% endif %}
                    </div>
                    <div class="analysis">
                        <h5>Analysis</h5>

                        <div class="graph">
                            {% if image_exists %}
                            <img src="{{ url_for('static', filename='images/2.1.2.png') }}"
                                alt="Graph representing total searches per product" style="width: 100%; height: auto;">
                            {% endif %}
                        </div>
                        <p>Detailed Stock Level Analysis</p>

                        <p><strong>Analysis Aspects:</strong></p>
                        <p>• Trends in Stock Levels: Analyze changes in the current stock levels over time for different
                            products.</p>
                        <p>• Optimal Stock Level Analysis: Compare the current stock levels with the optimal stock
                            quantities to identify overstocked or understocked situations.</p>
                        <p>• Stock Depletion Rates: Determine how quickly stock levels are being depleted for each
                            product.</p>
                        <p>• Potential Inventory Issues: Identify products with consistently high or low stock levels
                            compared to their optimal values.</p>
                            <div class="graph">
                                
                                <img src="{{ url_for('static', filename='images/2.1.2-1.png') }}"
                                    alt="Graph representing total searches per product" style="width: 100%; height: auto;">
                              
                            </div>    
                            <div class="graph">
                                
                                <img src="{{ url_for('static', filename='images/2.1.2-2.png') }}"
                                    alt="Graph representing total searches per product" style="width: 100%; height: auto;">
                              
                            </div>    
                        <p><strong>Key Findings:</strong></p>
                        <p>• Overstocked Products:</p>
                        <p> - All ten products showed periods of being overstocked, with the following details:</p>
                        <p> - Products PD1001, PD1005, and PD1010 were overstocked for all 31 days in the dataset.</p>
                        <p> - Products PD1002, PD1003, PD1004, PD1007, PD1008, and PD1009 also experienced significant
                            overstocking.</p>
                        <p> - Product PD1006 had the fewest overstocked days.</p>
                        <p>• Understocked Products: There were no instances of understocking identified in the dataset,
                            indicating that the current stock levels were consistently equal to or higher than the
                            optimal stock quantities.</p>
                        <p>• Stock Trends: The daily changes in stock levels for each product varied, providing insights
                            into how stock levels were managed over time. This trend information can help identify which
                            products may need adjustments in replenishment strategies.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>