<html>

<head>
    <title>Analytics Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            transform: scale(1);
        }

        .sidebar {
            background-color: #ffffff;
            padding: 20px;
            height: 100vh;
            border-right: 1px solid #dee2e6;
        }

        .sidebar a {
            display: block;
            padding: 10px 0;
            color: #000;
            text-decoration: none;
        }

        .sidebar a:hover {
            background-color: #e9ecef;
        }

        .content {
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: bold;
        }

        .header .search-bar {
            width: 300px;
        }

        .card {
            margin-bottom: 20px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #e9ecef;
            padding: 10px 20px;
            font-weight: bold;
        }

        .table th,
        .table td {
            vertical-align: middle;
        }

        .scrollable-table {
            max-height: 400px;
            overflow-y: auto;
            overflow-x: auto;
            margin-bottom: 20px;
            width: 100%;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }

        .analysis {
            background-color: #ffffff;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }

        .graph {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="d-flex">
        <div class="sidebar">
            <div class="d-flex align-items-center mb-4">
                <i class="fas fa-boxes fa-2x me-2"></i>
                <span class="fs-4">Optimizer</span>
            </div>
            <a href="/"> <i class="fas fa-boxes fa-1x me-1"></i>Home</a>
            <a href="{{ url_for('AnalyticsDashboard') }}"> <i class="fas fa-boxes fa-1x me-1"></i>Analytics
                Dashboard</a>
            <a href="{{ url_for('InventoryDashboard') }}"> <i class="fas fa-boxes fa-1x me-1"></i>Inventory
                Optimization</a>
            <a href="{{ url_for('SalesBoostDashboard') }}"> <i class="fas fa-boxes fa-1x me-1"></i>Sales Booster
                Features</a>
        </div>
        <div class="content flex-grow-1">
            <div class="header">
                <h1>Automated Offers and Discounts</h1>
                <input type="text" class="form-control search-bar" placeholder="Search for...">
            </div>
            <div class="card">
                <div class="card-header">
                    <span>Abandoned Cart Offers (3.1.3)</span>
                </div>
                <div class="card-body">
                    <div class="scrollable-table" style="width: 100%; overflow-x: auto;">

                        {% if all_tables_data["3.1.3"] %}
                        <table class="table">
                            <thead>

                                <tr>
                                    {% for column in all_tables_data["3.1.3"]['columns'] %}
                                    <th>{{ column }}</th>
                                    {% endfor %}
                                </tr>
                            </thead>
                            <tbody>
                                {% for row in all_tables_data["3.1.3"]['data'] %}
                                <tr>
                                    {% for item in row %}
                                    <td>{{ item }}</td>
                                    {% endfor %}
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% endif %}
                    </div>
                    <div class="analysis">
                        <h5>Analysis</h5>
                        <p><strong>High Cart Abandonment for Certain Products:</strong> "Scented Candles" and "Wireless
                            Earbuds" have a high rate of cart abandonment, indicating that while these products attract
                            customer interest, they often fail to convert into purchases. "Scented Candles," in
                            particular, appears multiple times with abandonment instances, suggesting the need for
                            targeted strategies to improve conversion.</p>

                        <p><strong>Commonly Abandoned Products:</strong> "Scented Candles" shows consistent abandonment
                            across various customers, including C1001, C1004, and C1005. This trend could indicate that
                            price, shipping costs, or perceived value might be factors causing customers to hesitate
                            before purchase. Offering limited-time discounts or emphasizing product benefits could help
                            reduce abandonment rates.</p>

                        <p><strong>Potential for Conversion Through Incentives:</strong> Products like "Wireless
                            Earbuds" and "Hydro Bottle" could benefit from targeted follow-up strategies such as
                            reminders or discounts after a cart abandonment. For example, Customer ID C1002 added
                            "Wireless Earbuds" to their cart but did not complete the purchase, suggesting an
                            opportunity to re-engage them with special offers or bundles.</p>

                        <p><strong>Frequent Cart Additions Despite Abandonment:</strong> Items like "Scented Candles"
                            and "Cotton Sheets" are frequently added to carts by certain customers, such as C1001 and
                            C1003. Despite not completing the purchase, these repeated additions show interest,
                            indicating that enhancing product details or offering incentives like free shipping might
                            improve conversion rates.</p>

                        <p><strong>Product-Specific Insights:</strong> "Hydro Bottle" and "Power Bank" also show signs
                            of abandonment despite being added to carts. These products may benefit from visibility
                            enhancements, detailed descriptions, or competitive pricing to encourage customers to
                            complete their purchases. Notably, Customer ID C1001 abandoned the "Hydro Bottle," which
                            might indicate a need for a price adjustment or promotional offer.</p>

                        <p><strong>Customer-Specific Patterns:</strong> Customers C1001 and C1004 demonstrate patterns
                            of adding multiple items to the cart but not completing the purchase. Personalized follow-up
                            with these customers based on their abandoned items could help convert these additions into
                            sales.</p>

                        <p><strong>Recommendations for Reducing Cart Abandonment:</strong> Offering features such as
                            abandoned cart reminders, personalized discounts, or bundling with popular items could
                            improve purchase rates. For instance, bundling "Scented Candles" with a related product at a
                            discount may incentivize purchase completion.</p>

                        <p><strong>Opportunity for Post-Abandonment Engagement:</strong> Given the pattern of
                            abandonment across several products, implementing an abandoned cart email flow that
                            highlights product benefits, offers limited-time discounts, or provides free shipping could
                            help recapture lost sales.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>